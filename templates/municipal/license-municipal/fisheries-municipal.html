<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DENR Dashboard | Final Balanced View</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">

    


    <style>
        /* Global Reset & Layout */
        * { box-sizing: border-box; }
        
        body { 
            background-color: #f8fafc; 
            margin: 0;
            padding: 0;
            /* CRITICAL: This prevents the content from going under the fixed sidebar */
            padding-left: 300px; 
            font-family: 'Inter', sans-serif;
        }

        /* Sidebar Styling */
        .sidebar-container {
            width: 300px;
            height: 100vh;
            background-color: #eeeeee; /* Slate 50ish */
            position: fixed;
            left: 0;
            top: 0;
            transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
            z-index: 1000;
            display: flex;
            flex-direction: column;
            border-right: 2px solid #e2e8f0;
        }
        
        .nav-item-btn {
            display: flex !important;
            align-items: center;
            gap: 1rem;
            padding: 1rem 1.5rem;
            color: #475569 !important;
            text-decoration: none !important;
            border-radius: 1.5rem;
            font-weight: 800;
            text-transform: uppercase;
            font-size: 0.75rem;
            letter-spacing: 0.1em;
            transition: all 0.3s ease;
        }

        .nav-item-btn:hover {
            background-color: #064e3b !important; /* Emerald 950 */
            color: #ffffff !important;
            transform: translateX(10px);
        }

        .footer-link {
            display: flex !important;
            align-items: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            color: #64748b !important;
            text-decoration: none !important;
            border-radius: 1.25rem;
            font-weight: 700;
            text-transform: uppercase;
            font-size: 0.7rem;
            letter-spacing: 0.05em;
            transition: all 0.2s ease;
        }

        .footer-link:hover {
            background-color: #f1f5f9 !important;
            color: #064e3b !important;
        }

        .logout-btn:hover {
            background-color: #ef4444 !important;
            color: white !important;
        }

        /* Dropdown & Select Styling */
        .filter-row-container {
            overflow: visible !important;
            z-index: 50;
            position: relative;
        }
        
        .select-wrapper {
            position: relative;
            display: flex;
            align-items: center;
        }

        .select-wrapper .material-icons-round {
            position: absolute;
            right: 1.25rem;
            pointer-events: none;
            color: #94a3b8;
        }

        /* Responsive Fix: If screen is small, remove padding */
        @media (max-width: 1024px) {
            body { padding-left: 0; }
            .sidebar-container { transform: translateX(-100%); }
        }
    </style>
</head>
<body>

<aside class="sidebar-container p-4 shadow-xl">
    <div class="mb-12 px-3 pt-4">
        <div class="flex items-center gap-4">
            <div class="p-3 bg-emerald-900 rounded-2xl shadow-lg shadow-emerald-900/30">
                <span class="material-icons-round text-white">dashboard</span>
            </div>
            <div>
                <h2 class="font-black text-xl tracking-tighter italic m-0 text-emerald-900">DENR</h2>
                <span class="text-slate-400 text-[10px] font-black uppercase tracking-widest">Portal v2.0</span>
            </div>
        </div>
    </div>

    <nav class="flex-grow space-y-2">
        <a href="index.php" class="nav-item-btn">
            <span class="material-icons-round">home</span>
            <span>Home</span>
        </a>
        <a href="application.php" class="nav-item-btn">
            <span class="material-icons-round">description</span>
            <span>Application</span>
        </a>
        <a href="requests.php" class="nav-item-btn">
            <span class="material-icons-round">room_service</span>
            <span>Service Request</span>
        </a>
        <a href="compensation.php" class="nav-item-btn">
            <span class="material-icons-round">account_balance_wallet</span>
            <span>Compensation</span>
        </a>
        <a href="licensing.php" class="nav-item-btn">
            <span class="material-icons-round">verified</span>
            <span>Licensing/Permit</span>
        </a>
    </nav>

    <div class="mt-auto pt-6 border-t border-slate-200 space-y-1">
        <a href="profile.php" class="footer-link">
            <span class="material-icons-round">account_circle</span>
            <span>My Profile</span>
        </a>
        <a href="logout.php" class="footer-link logout-btn">
            <span class="material-icons-round">logout</span>
            <span>Logout</span>
        </a>
    </div>
</aside>

<main class="w-full">
    <div class="container-fluid px-5 py-5">

        <div class="row g-4 mb-10">
            <div class="col-md-4">
                <button class="w-full bg-slate-100 p-8 rounded-[3rem] border-2 border-slate-200 shadow-sm flex items-center justify-between hover:bg-white hover:border-emerald-500 transition-all group border-0 text-left">
                    <div class="flex items-center gap-5">
                        <div class="p-5 bg-white text-slate-400 rounded-[1.5rem] group-hover:bg-emerald-50 group-hover:text-emerald-600 transition-all shadow-sm">
                            <span class="material-icons-round text-4xl">task_alt</span>
                        </div>
                        <div>
                            <p class="text-[13px] font-black text-emerald-600 uppercase tracking-[0.2em] m-0 mb-1">Accepted Today</p>
                            <h3 class="text-5xl font-black text-emerald-950 m-0 tracking-tighter">24</h3>
                        </div>
                    </div>
                    <span class="material-icons-round text-slate-300 group-hover:text-emerald-500 text-3xl">chevron_right</span>
                </button>
            </div>

            <div class="col-md-4">
                <button class="w-full bg-slate-100 p-8 rounded-[3rem] border-2 border-slate-200 shadow-sm flex items-center justify-between hover:bg-white hover:border-rose-500 transition-all group border-0 text-left">
                    <div class="flex items-center gap-5">
                        <div class="p-5 bg-white text-slate-400 rounded-[1.5rem] group-hover:bg-rose-50 group-hover:text-rose-600 transition-all shadow-sm">
                            <span class="material-icons-round text-4xl">unpublished</span>
                        </div>
                        <div>
                            <p class="text-[13px] font-black text-rose-600 uppercase tracking-[0.2em] m-0 mb-1">Rejected Today</p>
                            <h3 class="text-5xl font-black text-emerald-950 m-0 tracking-tighter">08</h3>
                        </div>
                    </div>
                    <span class="material-icons-round text-slate-300 group-hover:text-rose-500 text-3xl">chevron_right</span>
                </button>
            </div>

            <div class="col-md-4">
                <button class="w-full bg-slate-100 p-8 rounded-[3rem] border-2 border-slate-200 shadow-sm flex items-center justify-between hover:bg-white hover:border-amber-500 transition-all group border-0 text-left">
                    <div class="flex items-center gap-5">
                        <div class="p-5 bg-white text-slate-400 rounded-[1.5rem] group-hover:bg-amber-50 group-hover:text-amber-600 transition-all shadow-sm">
                            <span class="material-icons-round text-4xl">pending_actions</span>
                        </div>
                        <div>
                            <p class="text-[13px] font-black text-amber-600 uppercase tracking-[0.2em] m-0 mb-1">Pending Review</p>
                            <h3 class="text-5xl font-black text-emerald-950 m-0 tracking-tighter">156</h3>
                        </div>
                    </div>
                    <span class="material-icons-round text-slate-300 group-hover:text-amber-500 text-3xl">chevron_right</span>
                </button>
            </div>
        </div>

        <div class="bg-white p-6 rounded-[3rem] border-2 border-slate-100 shadow-sm mb-10 filter-row-container">
            <div class="flex flex-nowrap items-center justify-between gap-5 px-3">
                <div class="flex items-center gap-4 flex-shrink-0">
                    <button class="bg-blue-950 text-white px-10 py-4 rounded-2xl font-black uppercase tracking-tighter text-sm shadow-lg shadow-emerald-900/20 active:scale-95 transition-transform">
                        All Types
                    </button>
                    <div class="h-10 w-px bg-slate-200 mx-2"></div>
                </div>

                <div class="flex flex-grow items-center gap-4">
                    <div class="w-[280px] flex-shrink-0 select-wrapper">
                        <select class="w-full bg-slate-50 border-2 border-slate-100 rounded-[1.5rem] px-6 py-4 text-[13px] font-black uppercase tracking-widest text-slate-500 outline-none cursor-pointer appearance-none hover:border-blue-700 transition-all shadow-sm">
                            <option selected disabled>Select Category</option>
                            <option value="aquafarm">Aquaculture Farm Registration</option>
                            <option value="fish_transport">Fish Transport Permit</option>
                            <option value="fish_dealer">Fish Dealer/Trade License</option>
                            <option value="processing">Fish Processing Facility Permit</option>
                            <option value="collection_harvest">Collection/Harvest Permit</option>
                        </select>
                        <span class="material-icons-round text-xl">expand_more</span>
                    </div>

                    <div class="flex-grow flex items-center gap-3 bg-blue-50 border-2 border-slate-100 rounded-[1.5rem] px-4 focus-within:border-blue-700 transition-all shadow-sm">
                        <span class="material-icons-round text-blue-400 text-2xl">search</span>
                        <input type="text" placeholder="Search by name, reference, or date..." class="w-full bg-transparent border-none py-4 px-2 text-base font-bold text-slate-700 outline-none placeholder:text-slate-400">
                        <button class="bg-blue-800 text-white px-8 py-3 rounded-2xl font-black uppercase tracking-tighter text-xs hover:bg-blue-950 transition-colors border-0 shadow-sm flex-shrink-0">
                            Search
                        </button>
                    </div>
                </div>
            </div>
        </div>

        <!-- Payment Section -->
        <div class="bg-gradient-to-r from-emerald-50 to-blue-50 p-8 rounded-[3rem] border-2 border-emerald-200 shadow-md mb-10">
            <div class="flex items-center gap-4 mb-6">
                <div class="p-4 bg-emerald-600 rounded-2xl shadow-lg">
                    <span class="material-icons-round text-white text-3xl">payment</span>
                </div>
                <div>
                    <h2 class="text-2xl font-black text-emerald-900 m-0">Fisheries License Payments</h2>
                    <p class="text-slate-600 text-sm m-0">Secure payment processed via Xendit</p>
                </div>
            </div>

            <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4">
                <!-- Aquaculture Farm -->
                <button onclick="initiatePayment('aquafarm')" class="bg-white p-6 rounded-2xl border-2 border-emerald-200 hover:border-emerald-600 hover:shadow-lg transition-all group cursor-pointer text-left">
                    <div class="flex items-start justify-between mb-3">
                        <span class="material-icons-round text-emerald-600 text-3xl">water</span>
                        <span class="bg-emerald-100 text-emerald-700 text-xs font-black px-3 py-1 rounded-full">₱5,000</span>
                    </div>
                    <h3 class="font-black text-slate-800 m-0 mb-2">Aquaculture Farm</h3>
                    <p class="text-xs text-slate-500 m-0">Farm Registration</p>
                </button>

                <!-- Fish Transport -->
                <button onclick="initiatePayment('fish_transport')" class="bg-white p-6 rounded-2xl border-2 border-emerald-200 hover:border-emerald-600 hover:shadow-lg transition-all group cursor-pointer text-left">
                    <div class="flex items-start justify-between mb-3">
                        <span class="material-icons-round text-emerald-600 text-3xl">local_shipping</span>
                        <span class="bg-emerald-100 text-emerald-700 text-xs font-black px-3 py-1 rounded-full">₱2,500</span>
                    </div>
                    <h3 class="font-black text-slate-800 m-0 mb-2">Fish Transport</h3>
                    <p class="text-xs text-slate-500 m-0">Transport Permit</p>
                </button>

                <!-- Fish Dealer -->
                <button onclick="initiatePayment('fish_dealer')" class="bg-white p-6 rounded-2xl border-2 border-emerald-200 hover:border-emerald-600 hover:shadow-lg transition-all group cursor-pointer text-left">
                    <div class="flex items-start justify-between mb-3">
                        <span class="material-icons-round text-emerald-600 text-3xl">storefront</span>
                        <span class="bg-emerald-100 text-emerald-700 text-xs font-black px-3 py-1 rounded-full">₱3,000</span>
                    </div>
                    <h3 class="font-black text-slate-800 m-0 mb-2">Fish Dealer</h3>
                    <p class="text-xs text-slate-500 m-0">Trade License</p>
                </button>

                <!-- Processing Facility -->
                <button onclick="initiatePayment('processing')" class="bg-white p-6 rounded-2xl border-2 border-emerald-200 hover:border-emerald-600 hover:shadow-lg transition-all group cursor-pointer text-left">
                    <div class="flex items-start justify-between mb-3">
                        <span class="material-icons-round text-emerald-600 text-3xl">factory</span>
                        <span class="bg-emerald-100 text-emerald-700 text-xs font-black px-3 py-1 rounded-full">₱4,500</span>
                    </div>
                    <h3 class="font-black text-slate-800 m-0 mb-2">Processing Facility</h3>
                    <p class="text-xs text-slate-500 m-0">Facility Permit</p>
                </button>

                <!-- Collection/Harvest -->
                <button onclick="initiatePayment('collection_harvest')" class="bg-white p-6 rounded-2xl border-2 border-emerald-200 hover:border-emerald-600 hover:shadow-lg transition-all group cursor-pointer text-left">
                    <div class="flex items-start justify-between mb-3">
                        <span class="material-icons-round text-emerald-600 text-3xl">nature</span>
                        <span class="bg-emerald-100 text-emerald-700 text-xs font-black px-3 py-1 rounded-full">₱2,000</span>
                    </div>
                    <h3 class="font-black text-slate-800 m-0 mb-2">Collection/Harvest</h3>
                    <p class="text-xs text-slate-500 m-0">Harvest Permit</p>
                </button>
            </div>
        </div>

        <script>
            function initiatePayment(serviceType) {
                sessionStorage.setItem('serviceType', serviceType);
                window.location.href = `/api/payments/payment-form/${serviceType}`;
            }
        </script>

        <div class="space-y-4">
            <div class="flex items-center px-14 text-[11px] font-black text-slate-400 uppercase tracking-[0.3em]">
                <div class="w-1/3">Applicant Name</div>
                <div class="w-1/4">Category</div>
                <div class="w-1/6">Filed Date</div>
                <div class="w-1/6">Status</div>
                <div class="w-14"></div>
            </div>

            <div class="bg-white p-2 px-5 rounded-[3rem] border border-slate-100 flex items-center hover:border-emerald-600 transition-all group shadow-sm hover:shadow-md">
                <div class="w-1/3">
                    <p class="text-base font-black text-blue-950 m-0 uppercase tracking-tighter">Aerone Pogi</p>
                    <p class="text-[11px] font-bold text-slate-400 m-0 italic tracking-widest">DENR-2026-0042</p>
                </div>
                <div class="w-1/4">
                    <span class="bg-blue-50 text-blue-800 px-3 py-1 rounded-2xl text-[11px] font-black uppercase border border-emerald-100 shadow-sm">Fish Transport Permit</span>
                </div>
                <div class="w-1/6 text-sm font-bold text-slate-500 italic">Feb 07, 2026</div>
                <div class="w-1/6">
                    <span class="flex items-center gap-3 text-amber-600 font-black text-[12px] uppercase italic tracking-tighter">
                        <span class="w-3 h-3 bg-amber-500 rounded-full animate-pulse shadow-[0_0_10px_rgba(245,158,11,0.6)]"></span>
                        Pending Review
                    </span>
                </div>
                <div class="w-14 text-right">
                    <button class="text-slate-300 group-hover:text-blue-700 group-hover:bg-blue-50 p-3 rounded-2xl bg-transparent border-0 transition-all hover:scale-110">
                        <span class="material-icons-round text-2xl">visibility</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
</main>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>