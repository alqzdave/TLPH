<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

<header class="bg-green-700 text-white shadow-md sticky top-0 z-50">
    <nav class="container mx-auto px-4 py-2 flex justify-between items-center">
        
        <div class="flex items-center gap-2 group cursor-pointer" onclick="window.location.href='/user/dashboard'">
            <img src="{{ url_for('static', filename='images/denr.jpg') }}" 
                 alt="DENR Logo" 
                 class="h-9 w-9 object-contain bg-white rounded-full p-0.5 shadow-sm transition-transform group-hover:scale-105">
            <div class="flex flex-col leading-none">
                <h1 class="text-white text-xl font-bold tracking-tight uppercase">DENR</h1>
                <span class="text-[8px] text-green-200 font-medium tracking-widest uppercase">Department of Environment and Natural Resources</span>
            </div>
        </div>

        <div class="flex items-center gap-4">
            
            <div class="hidden lg:flex items-center gap-1 border-r border-green-600/50 pr-4">
                <a href="/user/dashboard" class="px-2 py-1.5 rounded text-white hover:bg-green-800 hover:text-green-100 font-medium transition-all no-underline text-[13px]">
                    Home
                </a>
                <a href="/user/application" class="px-2 py-1.5 rounded text-white hover:bg-green-800 hover:text-green-100 font-medium transition-all no-underline text-[13px]">
                    Application
                </a>
                
                <a href="/user/license/license" class="px-2 py-1.5 rounded text-white hover:bg-green-800 hover:text-green-100 font-medium transition-all no-underline text-[13px]">
                    License/Permit
                </a>

                <a href="/user/inventory" class="px-2 py-1.5 rounded text-white hover:bg-green-800 hover:text-green-100 font-medium transition-all no-underline text-[13px]">
                    Inventory
                </a>
                <a href="/user/service/service" class="px-2 py-1.5 rounded text-white hover:bg-green-800 hover:text-green-100 font-medium transition-all no-underline text-[13px]">
                    Service
                </a>
                <a href="/user/inventory/stock-history" class="px-2 py-1.5 rounded text-white hover:bg-green-800 hover:text-green-100 font-medium transition-all no-underline text-[13px]">
                    History
                </a>
            </div>

            <div class="dropdown">
                <button class="flex items-center gap-2 bg-green-800/40 hover:bg-green-800 px-2 py-1 rounded-full transition-all border border-white/20 focus:outline-none" 
                        type="button" 
                        id="profileDropdown" 
                        data-bs-toggle="dropdown" 
                        aria-expanded="false">
                    <img src="https://ui-avatars.com/api/?name=User&background=fff&color=15803d&bold=true" 
                         alt="Profile" 
                         class="h-7 w-7 rounded-full border border-white/40">
                    <i class="fa-solid fa-chevron-down text-[9px] text-green-200"></i>
                </button> 
                
                <ul class="dropdown-menu dropdown-menu-end shadow-xl border-0 mt-2 rounded-lg p-1 animate-fade-in" aria-labelledby="profileDropdown" style="min-width: 180px;">
                    <li class="px-2 py-1 mb-1">
                        <p class="text-[9px] font-bold text-gray-400 uppercase tracking-wider">Account Settings</p>
                    </li>
                    <li>
                        <a class="dropdown-item rounded py-1.5 flex items-center gap-3 text-gray-700 hover:bg-green-50 transition-colors no-underline" href="/user/profile">
                            <i class="fa-solid fa-user-gear text-green-700 text-sm w-4 text-center"></i>
                            <span class="font-medium text-[13px]">Profile Info</span>
                        </a>
                    </li>
                    
                    <li>
                        <a class="dropdown-item rounded py-1.5 flex items-center gap-3 text-gray-700 hover:bg-green-50 transition-colors no-underline" href="/user/license/license">
                            <i class="fa-solid fa-id-card text-green-700 text-sm w-4 text-center"></i>
                            <span class="font-medium text-[13px]">License/Permit</span>
                        </a>
                    </li>

                    <li><hr class="dropdown-divider bg-gray-100 my-1"></li>
                    <li>
                        <a class="dropdown-item rounded py-1.5 flex items-center gap-3 text-blue-600 hover:bg-blue-50 transition-colors no-underline" href="/user/transaction">
                            <i class="fa-solid fa-receipt text-blue-600 text-sm w-4 text-center"></i>
                            <span class="font-medium text-[13px]">Transactions</span>
                        </a>
                    </li>
                    <li><hr class="dropdown-divider bg-gray-100 my-1"></li>
                    <li>
                        <a class="dropdown-item rounded py-1.5 flex items-center gap-3 text-red-600 hover:bg-red-50 transition-colors no-underline" href="/">
                            <i class="fa-solid fa-right-from-bracket text-red-600 text-sm w-4 text-center"></i>
                            <span class="font-medium text-[13px]">Logout</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>

    </nav>
</header>

<style>
    /* Subtle fade and slide animation for the menu */
    .animate-fade-in {
        animation: fadeIn 0.15s ease-out;
    }
    @keyframes fadeIn {
        from { opacity: 0; transform: translateY(8px); }
        to { opacity: 1; transform: translateY(0); }
    }
    /* Ensure Bootstrap hover state matches DENR theme */
    .dropdown-item:hover {
        background-color: #f0fdf4 !important;
    }
</style>